{"ast":null,"code":"import axios from 'axios';\nimport { ERRORS, SET_PROFILE, SET_PROFILES, DELETE_PROFILE } from '../types';\nexport const AddProfile = (form, setShow, setMessage) => dispatch => {\n  axios.post(\"/api/profiles\", form).then(res => {\n    setShow(true);\n    setMessage(\"User added with success\");\n    dispatch({\n      type: ERRORS,\n      payload: {}\n    });\n    setTimeout(() => {\n      setShow(false);\n    }, 4000);\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const GetProfile = () => dispatch => {\n  axios.get(\"/api/profile\").then(res => {\n    dispatch({\n      type: SET_PROFILE,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const GetProfiles = () => dispatch => {\n  axios.get(\"/api/profiles\").then(res => {\n    dispatch({\n      type: SET_PROFILES,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const DeleteProfile = id => dispatch => {\n  if (window.confirm(\"are you sure to delete this user?\")) {\n    axios.delete(`/api/profiles/${id}`).then(res => {\n      dispatch({\n        type: DELETE_PROFILE,\n        payload: id\n      });\n    }).catch(err => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data\n      });\n    });\n  }\n};","map":{"version":3,"sources":["E:/Mern projet semestriel 2023/client/src/redux/actions/profileActions.js"],"names":["axios","ERRORS","SET_PROFILE","SET_PROFILES","DELETE_PROFILE","AddProfile","form","setShow","setMessage","dispatch","post","then","res","type","payload","setTimeout","catch","err","response","data","GetProfile","get","GetProfiles","DeleteProfile","id","window","confirm","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,YAA9B,EAA4CC,cAA5C,QAAkE,UAAlE;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAOC,OAAP,EAAgBC,UAAhB,KAA6BC,QAAQ,IAAE;AAC7DT,EAAAA,KAAK,CACFU,IADH,CACQ,eADR,EACyBJ,IADzB,EAEGK,IAFH,CAEQC,GAAG,IAAI;AACXL,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAC,IAAAA,UAAU,CAAC,yBAAD,CAAV;AACAC,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEZ,MADD;AAELa,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAIAC,IAAAA,UAAU,CAAC,MAAM;AACbR,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGD,GAZH,EAaGS,KAbH,CAaSC,GAAG,IAAI;AACVR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEZ,MADD;AAELa,MAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaC;AAFjB,KAAD,CAAR;AAIH,GAlBH;AAmBH,CApBM;AAsBP,OAAO,MAAMC,UAAU,GAAG,MAAIX,QAAQ,IAAE;AACpCT,EAAAA,KAAK,CACFqB,GADH,CACO,cADP,EAEGV,IAFH,CAEQC,GAAG,IAAI;AACTH,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEX,WADD;AAELY,MAAAA,OAAO,EAAEF,GAAG,CAACO;AAFR,KAAD,CAAR;AAIH,GAPH,EAQGH,KARH,CAQSC,GAAG,IAAI;AACVR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEZ,MADD;AAELa,MAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaC;AAFjB,KAAD,CAAR;AAIH,GAbH;AAcH,CAfM;AAiBP,OAAO,MAAMG,WAAW,GAAG,MAAIb,QAAQ,IAAE;AACrCT,EAAAA,KAAK,CACFqB,GADH,CACO,eADP,EAEGV,IAFH,CAEQC,GAAG,IAAI;AACTH,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEV,YADD;AAELW,MAAAA,OAAO,EAAEF,GAAG,CAACO;AAFR,KAAD,CAAR;AAIH,GAPH,EAQGH,KARH,CAQSC,GAAG,IAAI;AACVR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEZ,MADD;AAELa,MAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaC;AAFjB,KAAD,CAAR;AAIH,GAbH;AAcH,CAfM;AAiBP,OAAO,MAAMI,aAAa,GAAIC,EAAD,IAAMf,QAAQ,IAAE;AAC1C,MAAGgB,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAH,EAAuD;AACtD1B,IAAAA,KAAK,CACJ2B,MADD,CACS,iBAAgBH,EAAG,EAD5B,EAECb,IAFD,CAEMC,GAAG,IAAI;AACTH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAET,cADD;AAELU,QAAAA,OAAO,EAAEU;AAFJ,OAAD,CAAR;AAIH,KAPD,EAQCR,KARD,CAQOC,GAAG,IAAI;AACVR,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEZ,MADD;AAELa,QAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaC;AAFjB,OAAD,CAAR;AAIH,KAbD;AAcA;AACH,CAjBM","sourcesContent":["import axios from 'axios'\r\nimport { ERRORS, SET_PROFILE, SET_PROFILES, DELETE_PROFILE } from '../types';\r\n\r\nexport const AddProfile = (form, setShow, setMessage)=>dispatch=>{\r\n    axios\r\n      .post(\"/api/profiles\", form)\r\n      .then(res => {\r\n        setShow(true)\r\n        setMessage(\"User added with success\")\r\n        dispatch({\r\n            type: ERRORS,\r\n            payload: {}\r\n        })\r\n        setTimeout(() => {\r\n            setShow(false)\r\n        }, 4000);\r\n      })\r\n      .catch(err => {\r\n          dispatch({\r\n              type: ERRORS,\r\n              payload: err.response.data\r\n          })\r\n      });\r\n}\r\n\r\nexport const GetProfile = ()=>dispatch=>{\r\n    axios\r\n      .get(\"/api/profile\")\r\n      .then(res => {\r\n          dispatch({\r\n              type: SET_PROFILE,\r\n              payload: res.data\r\n          })\r\n      })\r\n      .catch(err => {\r\n          dispatch({\r\n              type: ERRORS,\r\n              payload: err.response.data\r\n          })\r\n      });\r\n}\r\n\r\nexport const GetProfiles = ()=>dispatch=>{\r\n    axios\r\n      .get(\"/api/profiles\")\r\n      .then(res => {\r\n          dispatch({\r\n              type: SET_PROFILES,\r\n              payload: res.data\r\n          })\r\n      })\r\n      .catch(err => {\r\n          dispatch({\r\n              type: ERRORS,\r\n              payload: err.response.data\r\n          })\r\n      });\r\n}\r\n\r\nexport const DeleteProfile = (id)=>dispatch=>{\r\n   if(window.confirm(\"are you sure to delete this user?\")){\r\n    axios\r\n    .delete(`/api/profiles/${id}`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: DELETE_PROFILE,\r\n            payload: id\r\n        })\r\n    })\r\n    .catch(err => {\r\n        dispatch({\r\n            type: ERRORS,\r\n            payload: err.response.data\r\n        })\r\n    });\r\n   }\r\n}"]},"metadata":{},"sourceType":"module"}