{"ast":null,"code":"import axios from 'axios';\nimport { ERRORS, SET_USER } from '../types';\nimport jwt_decode from 'jwt-decode';\nimport { setAuth } from '../../util/setAuth';\nexport const Registration = (form, navigate) => dispatch => {\n  axios.post('/api/register', form).then(res => {\n    navigate('/login');\n    dispatch({\n      type: ERRORS,\n      payload: {}\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const LoginAction = (form, navigate) => dispatch => {\n  axios.post('/api/login', form).then(res => {\n    const {\n      token\n    } = res.data;\n    localStorage.setItem('jwt', token);\n    const decode = jwt_decode(token);\n    dispatch(setUser(decode));\n    setAuth(token);\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const Logout = () => dispatch => {\n  localStorage.removeItem('jwt');\n  dispatch({\n    type: SET_USER,\n    payload: {}\n  });\n};\nexport const setUser = decode => ({\n  type: SET_USER,\n  payload: decode\n});","map":{"version":3,"sources":["C:/Users/Dell/MERN-authentication-profile/client/src/redux/actions/authActions.js"],"names":["axios","ERRORS","SET_USER","jwt_decode","setAuth","Registration","form","navigate","dispatch","post","then","res","type","payload","catch","err","response","data","LoginAction","token","localStorage","setItem","decode","setUser","Logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,UAAjC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAkBC,QAAQ,IAAE;AAClDR,EAAAA,KAAK,CAACS,IAAN,CAAW,eAAX,EAA4BH,IAA5B,EACCI,IADD,CACMC,GAAG,IAAE;AACTJ,IAAAA,QAAQ,CAAC,QAAD,CAAR;AACAC,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEX,MADD;AAELY,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAID,GAPD,EAQCC,KARD,CAQOC,GAAG,IAAE;AACRP,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEX,MADD;AAELY,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaC;AAFjB,KAAD,CAAR;AAIH,GAbD;AAcL,CAfM;AAiBP,OAAO,MAAMC,WAAW,GAAG,CAACZ,IAAD,EAAOC,QAAP,KAAkBC,QAAQ,IAAE;AACnDR,EAAAA,KAAK,CAACS,IAAN,CAAW,YAAX,EAAyBH,IAAzB,EACCI,IADD,CACMC,GAAG,IAAE;AACT,UAAM;AAACQ,MAAAA;AAAD,QAAUR,GAAG,CAACM,IAApB;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BF,KAA5B;AACA,UAAMG,MAAM,GAAGnB,UAAU,CAACgB,KAAD,CAAzB;AACAX,IAAAA,QAAQ,CAACe,OAAO,CAACD,MAAD,CAAR,CAAR;AACAlB,IAAAA,OAAO,CAACe,KAAD,CAAP;AACD,GAPD,EAQCL,KARD,CAQOC,GAAG,IAAE;AACRP,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEX,MADD;AAELY,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaC;AAFjB,KAAD,CAAR;AAIH,GAbD;AAcH,CAfM;AAkBP,OAAO,MAAMO,MAAM,GAAG,MAAIhB,QAAQ,IAAE;AAChCY,EAAAA,YAAY,CAACK,UAAb,CAAwB,KAAxB;AACAjB,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAEV,QADD;AAELW,IAAAA,OAAO,EAAE;AAFJ,GAAD,CAAR;AAIH,CANM;AAQP,OAAO,MAAMU,OAAO,GAAID,MAAD,KAAW;AAC9BV,EAAAA,IAAI,EAAEV,QADwB;AAE9BW,EAAAA,OAAO,EAAES;AAFqB,CAAX,CAAhB","sourcesContent":["import axios from 'axios';\r\nimport { ERRORS, SET_USER } from '../types';\r\nimport jwt_decode from 'jwt-decode'\r\nimport { setAuth } from '../../util/setAuth';\r\n\r\nexport const Registration = (form, navigate)=>dispatch=>{\r\n      axios.post('/api/register', form) \r\n      .then(res=>{\r\n        navigate('/login')\r\n        dispatch({\r\n            type: ERRORS,\r\n            payload: {}\r\n        })\r\n      })\r\n      .catch(err=>{\r\n          dispatch({\r\n              type: ERRORS,\r\n              payload: err.response.data\r\n          })\r\n      })\r\n}\r\n\r\nexport const LoginAction = (form, navigate)=>dispatch=>{\r\n    axios.post('/api/login', form) \r\n    .then(res=>{\r\n      const {token} = res.data\r\n      localStorage.setItem('jwt', token)\r\n      const decode = jwt_decode(token)\r\n      dispatch(setUser(decode))\r\n      setAuth(token)\r\n    })\r\n    .catch(err=>{\r\n        dispatch({\r\n            type: ERRORS,\r\n            payload: err.response.data\r\n        })\r\n    })\r\n}\r\n\r\n\r\nexport const Logout = ()=>dispatch=>{\r\n    localStorage.removeItem('jwt')\r\n    dispatch({\r\n        type: SET_USER,\r\n        payload: {}\r\n    })\r\n}\r\n\r\nexport const setUser = (decode)=>({\r\n    type: SET_USER,\r\n    payload: decode\r\n})"]},"metadata":{},"sourceType":"module"}